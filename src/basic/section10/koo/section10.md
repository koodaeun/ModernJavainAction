### 다형성 시작


### 다형성과 캐스팅
- 다형성(Polymorphism)은 이름 그대로 "다양한 형태", "여러 형태"를 를 뜻한다. 즉, 한 객체가 여러 타입의 객체로 취급될 수 있는 능력이다.
- 다형적 참조와 메서드 오버라이딩
- 다형적 참조: 부모 타입의 변수가 자식 인스턴스 참조
  ```
  Parent poly = new Child()
  ```
- Child 인스턴스를 만들었다. 이 경우 자식 타입인 Child 를 생성했기 때문에 메모리 상에 Child 와  Parent 가 모두 생성된다.
- 부모는 자식을 담을 수 있다. 반대로 자식 타입은 부모 타입을 담을 수 없다.


### 캐스팅의 종류
- 업캐스팅(upcasting): 부모 타입으로 변경
- 다운캐스팅(downcasting): 자식 타입으로 변경


### 다운캐스팅과 주의점
업캐스팅의 경우 이런 문제가 절대로 발생하지 않는다. 
객체를 생성하면 해당 타입의 상위 부모 타입은 모두 함께 생성된다! 
따라서 위로만 타입을 변경하는 업캐스팅은 메모리 상에 인스턴스가 모두 존재하기 때문에 항상 안전하다.


### instanceof
- 다운캐스팅을 수행하기 전에는 먼저 instanceof 를 사용해서 원하는 타입으로 변경이 가능한지 확인한 다음에 다운캐스팅을 수행하는 것이 안전하다
- 자바 16 - Pattern Matching for instanceof
:자바 16부터는 instanceof 를 사용하면서 동시에 변수를 선언할 수 있다(ex. `parent instanceof Child child`)


### 다형성과 메서드 오버라이딩
- 오버라이딩 된 메서드가 항상 우선권을 가진다. 오버라이딩은 부모 타입에서 정의한 기능을 자식 타입에서 재정의하는
  것이다. 만약 자식에서도 오버라이딩 하고 손자에서도 같은 메서드를 오버라이딩을 하면 손자의 오버라이딩 메서드가
  우선권을 가진다. 더 하위 자식의 오버라이딩 된 메서드가 우선권을 가지는 것이다.


### 정리
- 다형적 참조: 하나의 변수 타입으로 다양한 자식 인스턴스를 참조할 수 있는 기능
- 메서드 오버라이딩: 기존 기능을 하위 타입에서 새로운 기능으로 재정의